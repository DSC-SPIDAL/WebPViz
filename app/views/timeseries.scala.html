@(user: User, timeSeriesId: Integer, timeSeriesName: String)

@main(timeSeriesName, user) {
    <link rel="stylesheet" href="@routes.Assets.at("stylesheets/ion-rangeslider/ion.rangeSlider.css")">
    <link rel="stylesheet" href="@routes.Assets.at("stylesheets/ion-rangeslider/ion.rangeSlider.skinHTML5.css")">
    <link rel="stylesheet" href="@routes.Assets.at("stylesheets/colorpicker/bootstrap-colorpicker.min.css")">
    <link rel="stylesheet" href="@routes.Assets.at("stylesheets/plot.css")">
    <div class="row plot">
            <!--div class="col-sm-9 col-sm-offset-3 col-md-10 col-sm-offset-2 plotviz"-->
        <div class="col-sm-12 col-md-12 plotviz">
            <div class="viz-clusters col-sm-12 col-md-12" id="plot-clusters"></div>
            <canvas id="canvas3d" class="effect6">
            </canvas>
            <p class="viz-title" id="plot-title"></p>
            <div class="input-group input-group-shaded effect6">
                <div class="input-group-btn">
                    <button id="slider-play" type="button" class="btn btn-default btn-circle margin-left-five" aria-label="Play"><span id="play-span" class="glyphicon glyphicon-play"></span></button>
                </div>
                <input type="text" id="plot-slider" class="form-control">
                <div class="input-group-btn">
                    <button type="button" data-toggle="modal" data-target="#settingsModal" class="btn btn-default btn-circle margin-right-five">
                        <span class="glyphicon glyphicon-th-list"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="settingsModal" tabindex="-1" role="dialog" aria-labelledby="settingsModalLabel">
        <div class="modal-dialog modal-sm" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel">Visualization Settings</h4>
                </div>
                <div class="modal-body" id="cluster_table_div">

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary">Save changes</button>
                </div>
            </div>
        </div>
    </div>


    <script type="text/javascript" src="@routes.Assets.at("javascripts/custom.js")"></script>
    <script type="text/javascript" src="@routes.Assets.at("javascripts/plot.js")"></script>
    <script type="text/javascript" src="@routes.Assets.at("javascripts/three.min.js")"></script>
    <script type="text/javascript" src="@routes.Assets.at("javascripts/colorpicker/docs.js")"></script>
    <script type="text/javascript" src="@routes.Assets.at("javascripts/colorpicker/bootstrap-colorpicker.js")"></script>
    <script type="text/javascript" src="@routes.Assets.at("javascripts/three.min.js")"></script>
    <script type="text/javascript" src="@routes.Assets.at("javascripts/threeutils/Detector.js")"></script>
    <script type="text/javascript" src="@routes.Assets.at("javascripts/threeutils/TrackballControls.js")"></script>
    <script type="text/javascript" src="@routes.Assets.at("javascripts/threeutils/OrbitControls.js")"></script>
    <script type="text/javascript" src="@routes.Assets.at("javascripts/threeutils/stats.min.js")"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/randomcolor/0.1.1/randomColor.min.js"></script>
    <script type="text/javascript" src="@routes.Assets.at("javascripts/ion-rangeslider/ion.rangeSlider.min.js")"></script>
    <script src="@routes.Assets.at("javascripts/isotope.pkgd.js")"></script>
    <script src="//code.jquery.com/ui/1.11.2/jquery-ui.js"></script>
    <script>
            $(function() {
                $('#slider-play').click(function () {
                    var span = $("#play-span");

                    if (span.hasClass("glyphicon-play")) {
                        animateTimeSeriesPlay();
                        span.removeClass("glyphicon-play").addClass("glyphicon-pause");
                    } else if (span.hasClass("glyphicon-repeat")) {
                        resetSlider();
                        span.removeClass("glyphicon-repeat").addClass("glyphicon-play");
                    } else {
                        animateTimeSeriesPause();
                        span.removeClass("glyphicon-pause").addClass("glyphicon-play");
                    }
                });

                $('.modal-dialog').draggable({
                    handle: ".modal-header"
                });

            });
    </script>
    <script type="text/javascript">
            $.getJSON("@routes.Application.timeseries(timeSeriesId)", function (data) {
                var resultSetUrl = "@routes.Application.timeseries(timeSeriesId)";
                visualizeTimeSeries(resultSetUrl, data, @timeSeriesId);
            });
    </script>
}